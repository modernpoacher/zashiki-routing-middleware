"use strict";require("core-js/modules/es.object.define-property.js");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _debug=_interopRequireDefault(require("debug"));var _shinkansenPantograph=require("shinkansen-pantograph");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}var log=(0,_debug["default"])('zashiki-routing-middleware');log('`zashiki-routing-middleware` is awake');var _default=function _default(store){var OMEGA_ROUTE=_shinkansenPantograph.Pantograph.OMEGA.ROUTE,EMBARK_ROUTE=_shinkansenPantograph.Pantograph.EMBARK.ROUTE,DEBARK_ROUTE=_shinkansenPantograph.Pantograph.DEBARK.ROUTE,ALPHA_ROUTE=_shinkansenPantograph.Pantograph.ALPHA.ROUTE;return function(next){return function(action){var type=action.type;if(type===OMEGA_ROUTE||type===EMBARK_ROUTE||type===DEBARK_ROUTE||type===ALPHA_ROUTE){var history=action.history;if(history){var pathname=_shinkansenPantograph.Pantograph.graphite({action:action,state:store.getState(),route:{pathname:history.location}});if(pathname)history.push(pathname);}}return next(action);};};};exports["default"]=_default;